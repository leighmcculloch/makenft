!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i.parcelRequire9328&&i.parcelRequire9328,l=s.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function f(t,r){if(!l[t]){if(!e[t]){var n="function"==typeof i.parcelRequire9328&&i.parcelRequire9328;if(!r&&n)return n(t,!0);if(s)return s(t,!0);if(a&&"string"==typeof t)return a(t);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}c.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},c.cache={};var u=l[t]=new f.Module(t);e[t][0].call(u.exports,c,u,u.exports,this)}return l[t].exports;function c(e){var t=c.resolve(e);return!1===t?{}:f(t)}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=l,f.parent=s,f.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(f,"root",{get:function(){return i.parcelRequire9328}}),i.parcelRequire9328=f;for(var u=0;u<t.length;u++)f(t[u]);var c=f(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}({jz3GU:[function(e,t,r){var n,o=e("@parcel/transformer-js/src/esmodule-helpers.js"),i=e("stellar-sdk"),s=(o.interopDefault(i),e("ipfs-core")),l=e("./config.js");async function a(){const e=window.location.href,t=e.indexOf("#");if(-1===t)throw new Error("NFT not specified in web address.");const r=e.substring(t+1).split(":",2);let n,o;if(1==r.length)n="pubnet",o=r[0];else{if(2!=r.length)throw new Error("NFT web address malformed.");n=r[0],o=r[1]}const i=o.split("-",2);if(2!==i.length)throw new Error("NFT web address malformed.");const a=i[0],u=i[1],c=l.getConfig(n),d=await c.horizonServer.loadAccount(u);let p=(()=>{const e=d.data_attr["nft.meta.url"];return void 0===e?"":atob(e)})();for(let e=0;;e++){const t=d.data_attr[`nft.meta.url[${e}]`];if(void 0===t)break;p+=atob(t)}let h=p;p.startsWith("ipfs://")&&(h=c.ipfsUrl(p.substring(7)));const m=(()=>{const e=d.data_attr["nft.meta.sha256"];return e?atob(e):null})();let g={};if(""!==p&&p.startsWith("ipfs://")){const e=p.substring(7),t=(await async function(){return null!==f||(f=await s.create()),f}()).cat(e);let r="";for await(const e of t)r+=e.toString();g=JSON.parse(r)}let w=g.url,b=w;w.startsWith("ipfs://")&&(b=c.ipfsUrl(w.substring(7)));const y=g.sha256;document.getElementById("code").innerText=a;const v=document.createElement("img");v.src=b;const x=document.getElementById("file-preview");for(;x.firstChild;)x.removeChild(x.firstChild);x.appendChild(v);let E=`Asset: <a href="${b}">${w}</a>`;var T;y&&(E+=`<br/>Hash: ${y}`),T=E,document.getElementById("result-data").innerHTML=T;let j="";if(""!==p&&(j+=`Meta: <a href="${h}">${p}</a>`),m&&(j+=`<br/>Hash: ${m}`),""!==p&&p.startsWith("ipfs://")){!function(e){document.getElementById("result-meta-json").innerHTML=e}(`${JSON.stringify(g,null,"  ")}`)}""!==j&&function(e){document.getElementById("result-meta").innerHTML=e}(j),function(e){document.getElementById("result").innerHTML=e}(`View on a <a href="${c.explorerAssetUrl(a,u)}" target="_blank" rel="noopener">block explorer</a>.</br>See the current owner(s) <a href="${c.explorerAssetHoldersUrl(a,u)}" target="_blank" rel="noopener">here</a>.</br>Make an offer to buy or sell this NFT using a <a href="${c.dexAssetUrl(a,u)}" target="_blank" rel="noopener">DEX app</a>.`)}window.init=(n=a,async()=>{try{await n()}catch(e){throw function(e){document.getElementById("result").innerText=e.toString()}(e.error||e),e}});let f=null;a()},{"stellar-sdk":"9AhoN","ipfs-core":"egrwM","./config.js":"4O8Xx","@parcel/transformer-js/src/esmodule-helpers.js":"qayoQ"}]},["jz3GU"],"jz3GU");
//# sourceMappingURL=view.f6abc1d1.js.map
