!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof i.parcelRequire6940&&i.parcelRequire6940,s=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function f(t,r){if(!s[t]){if(!e[t]){var n="function"==typeof i.parcelRequire6940&&i.parcelRequire6940;if(!r&&n)return n(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}c.resolve=function(r){return e[t][1][r]||r},c.cache={};var u=s[t]=new f.Module(t);e[t][0].call(u.exports,c,u,u.exports,this)}return s[t].exports;function c(e){return f(c.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=s,f.parent=a,f.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(f,"root",{get:function(){return i.parcelRequire6940}}),i.parcelRequire6940=f;for(var u=0;u<t.length;u++)f(t[u]);var c=f(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}({zWg2R:[function(e,t,r){e("stellar-sdk");var n=e("ipfs-core"),o=e("./config.js");var i;console.log("Version: dev"),window.init=(i=async function(){const e=window.location.href,t=e.indexOf("#");if(-1===t)throw new Error("NFT not specified in web address.");const r=e.substring(t+1).split(":",2);let n,i;if(1==r.length)n="pubnet",i=r[0];else{if(2!=r.length)throw new Error("NFT web address malformed.");n=r[0],i=r[1]}const a=i.split("-",2);if(2!==a.length)throw new Error("NFT web address malformed.");const l=a[0],f=a[1],u=o.getConfig(n),c=await u.horizonServer.loadAccount(f);let d="";for(let e=0;;e++){const t=c.data_attr[`nft.asset.url[${e}]`];if(void 0===t)break;d+=atob(t)}let p=d;d.startsWith("ipfs://")&&(p=u.ipfsUrl(d.substring(7)));const h=(()=>{const e=c.data_attr["nft.asset.sha256"];return e?atob(e):null})();let g="";for(let e=0;;e++){const t=c.data_attr[`nft.meta.url[${e}]`];if(void 0===t)break;g+=atob(t)}let m=d;g.startsWith("ipfs://")&&(m=u.ipfsUrl(g.substring(7)));const b=(()=>{const e=c.data_attr["nft.meta.sha256"];return e?atob(e):null})();document.getElementById("code").innerText=l;const w=document.createElement("img");w.src=p;const y=document.getElementById("file-preview");for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(w);let v=`Asset: <a href="${p}">${d}</a>`;var x;h&&(v+=`<br/>Hash: ${h}`),x=v,document.getElementById("result-data").innerHTML=x;let E="";if(""!==g&&(E+=`Meta: <a href="${m}">${g}</a>`),b&&(E+=`<br/>Hash: ${b}`),""!==g&&g.startsWith("ipfs://")){const e=g.substring(7),t=(await s()).cat(e);let r="";for await(const e of t)r+=e.toString();const n=JSON.parse(r);!function(e){document.getElementById("result-meta-json").innerHTML=e}(`${JSON.stringify(n,null,"  ")}`)}""!==E&&function(e){document.getElementById("result-meta").innerHTML=e}(E),function(e){document.getElementById("result").innerHTML=e}(`View on a <a href="${u.explorerAssetUrl(l,f)}" target="_blank" rel="noopener">block explorer</a>.</br>See the current owner(s) <a href="${u.explorerAssetHoldersUrl(l,f)}" target="_blank" rel="noopener">here</a>.</br>Make an offer to buy or sell this NFT using a <a href="${u.dexAssetUrl(l,f)}" target="_blank" rel="noopener">DEX app</a>.`)},async()=>{try{await i()}catch(e){throw function(e){document.getElementById("result").innerText=e.toString()}(e.error||e),e}});let a=null;async function s(){return null!==a||(a=await n.create()),a}},{"stellar-sdk":"4TjuC","ipfs-core":"2FbLr","./config.js":"1SyCy"}]},["zWg2R"],"zWg2R");
//# sourceMappingURL=view.ed18d6d8.js.map
