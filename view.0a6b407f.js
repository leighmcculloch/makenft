!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i.parcelRequire9328&&i.parcelRequire9328,a=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function f(t,r){if(!a[t]){if(!e[t]){var n="function"==typeof i.parcelRequire9328&&i.parcelRequire9328;if(!r&&n)return n(t,!0);if(s)return s(t,!0);if(l&&"string"==typeof t)return l(t);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}c.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},c.cache={};var u=a[t]=new f.Module(t);e[t][0].call(u.exports,c,u,u.exports,this)}return a[t].exports;function c(e){var t=c.resolve(e);return!1===t?{}:f(t)}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=a,f.parent=s,f.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(f,"root",{get:function(){return i.parcelRequire9328}}),i.parcelRequire9328=f;for(var u=0;u<t.length;u++)f(t[u]);var c=f(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}({jz3GU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),o=e("stellar-sdk"),i=(n.interopDefault(o),e("ipfs-core")),s=e("./config.js");var a;async function l(){const e=window.location.href,t=e.indexOf("#");if(-1===t)throw new Error("NFT not specified in web address.");const r=e.substring(t+1).split(":",2);let n,o;if(1==r.length)n="pubnet",o=r[0];else{if(2!=r.length)throw new Error("NFT web address malformed.");n=r[0],o=r[1]}const a=o.split("-",2);if(2!==a.length)throw new Error("NFT web address malformed.");const l=a[0],u=a[1],c=s.getConfig(n),d=await c.horizonServer.loadAccount(u);let p="";for(let e=0;;e++){const t=d.data_attr[`nft.asset.url[${e}]`];if(void 0===t)break;p+=atob(t)}let h=p;p.startsWith("ipfs://")&&(h=c.ipfsUrl(p.substring(7)));const m=(()=>{const e=d.data_attr["nft.asset.sha256"];return e?atob(e):null})();let g="";for(let e=0;;e++){const t=d.data_attr[`nft.meta.url[${e}]`];if(void 0===t)break;g+=atob(t)}let b=p;g.startsWith("ipfs://")&&(b=c.ipfsUrl(g.substring(7)));const w=(()=>{const e=d.data_attr["nft.meta.sha256"];return e?atob(e):null})();document.getElementById("code").innerText=l;const y=document.createElement("img");y.src=h;const v=document.getElementById("file-preview");for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(y);let x=`Asset: <a href="${h}">${p}</a>`;var E;m&&(x+=`<br/>Hash: ${m}`),E=x,document.getElementById("result-data").innerHTML=E;let T="";if(""!==g&&(T+=`Meta: <a href="${b}">${g}</a>`),w&&(T+=`<br/>Hash: ${w}`),""!==g&&g.startsWith("ipfs://")){const e=g.substring(7),t=(await async function(){return null!==f||(f=await i.create()),f}()).cat(e);let r="";for await(const e of t)r+=e.toString();const n=JSON.parse(r);!function(e){document.getElementById("result-meta-json").innerHTML=e}(`${JSON.stringify(n,null,"  ")}`)}""!==T&&function(e){document.getElementById("result-meta").innerHTML=e}(T),function(e){document.getElementById("result").innerHTML=e}(`View on a <a href="${c.explorerAssetUrl(l,u)}" target="_blank" rel="noopener">block explorer</a>.</br>See the current owner(s) <a href="${c.explorerAssetHoldersUrl(l,u)}" target="_blank" rel="noopener">here</a>.</br>Make an offer to buy or sell this NFT using a <a href="${c.dexAssetUrl(l,u)}" target="_blank" rel="noopener">DEX app</a>.`)}console.log("Version: test"),window.init=(a=l,async()=>{try{await a()}catch(e){throw function(e){document.getElementById("result").innerText=e.toString()}(e.error||e),e}});let f=null;l()},{"stellar-sdk":"9AhoN","ipfs-core":"egrwM","./config.js":"4O8Xx","@parcel/transformer-js/src/esmodule-helpers.js":"qayoQ"}]},["jz3GU"],"jz3GU");
//# sourceMappingURL=view.0a6b407f.js.map
